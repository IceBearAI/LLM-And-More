import{_ as Pe}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-4dd6729c.js";import{_ as De}from"./UiParentCard.vue_vue_type_script_setup_true_lang-a50df5aa.js";import{r as V,c as pe,j as e,F as ae,L as Fe,d as me,k as q,l as le,m as l,X as Le,n as c,f as qe,x as re,z as Ve,a9 as Ae,U as F,W as s,_ as d,bz as fe,am as Be,an as Ne,b8 as B,i as Ue,ad as He,aD as je,b7 as Ee,o as Ye,S as We,Z as G,$ as _,a1 as _e,Y as ve,bk as ze,bf as he,Q as Oe,a6 as Qe}from"./utils-8a4540e3.js";import{_ as Ge}from"./Explain.vue_vue_type_style_index_0_lang-addb7248.js";import{p as Xe,b5 as Ke,ao as Je,g as Ze,u as et,z as tt,aM as at,b as lt,ad as ce,a3 as st,av as nt,a4 as se,_ as Te,V as ot,d as be,bh as it}from"./index-b4ac7dfa.js";import{m as dt,u as ut,a as rt,b as ct,c as ye,g as ge,V as mt}from"./VSlider-76a20d18.js";import{V as pt}from"./VForm-b3ea2b89.js";import{A as ft}from"./AlertBlock-feae4534.js";import{_ as xe}from"./ConfirmByInput.vue_vue_type_style_index_0_lang-70c6b095.js";import{_ as ke}from"./ConfirmByClick.vue_vue_type_style_index_0_lang-a61f9cf3.js";import{_ as _t}from"./DialogLog.vue_vue_type_style_index_0_lang-b902e928.js";import{V as ue}from"./VCol-b8625bbb.js";import{V as Se}from"./VRow-a7542fa4.js";import"./VAlert-d47641dd.js";import"./Confirm-6894798d.js";import"./TextLog-a2f60096.js";const vt=Xe({...Ke(),...Je(),...dt(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),ht=Ze()({name:"VRangeSlider",props:vt(),emits:{"update:focused":u=>!0,"update:modelValue":u=>!0,end:u=>!0,start:u=>!0},setup(u,H){let{slots:v,emit:P}=H;const i=V(),b=V(),T=V(),{rtlClasses:g}=et();function y($){if(!i.value||!b.value)return;const R=ge($,i.value.$el,u.direction),x=ge($,b.value.$el,u.direction),p=Math.abs(R),C=Math.abs(x);return p<C||p===C&&R<0?i.value.$el:b.value.$el}const w=ut(u),o=tt(u,"modelValue",void 0,$=>$!=null&&$.length?$.map(R=>w.roundValue(R)):[0,0]),{activeThumbRef:h,hasLabels:j,max:E,min:t,mousePressed:m,onSliderMousedown:L,onSliderTouchstart:X,position:I,trackContainerRef:ne}=rt({props:u,steps:w,onSliderStart:()=>{P("start",o.value)},onSliderEnd:$=>{var p;let{value:R}=$;const x=h.value===((p=i.value)==null?void 0:p.$el)?[R,o.value[1]]:[o.value[0],R];!u.strict&&x[0]<x[1]&&(o.value=x),P("end",o.value)},onSliderMove:$=>{var C,A,Y,D;let{value:R}=$;const[x,p]=o.value;!u.strict&&x===p&&x!==t.value&&(h.value=R>x?(C=b.value)==null?void 0:C.$el:(A=i.value)==null?void 0:A.$el,(Y=h.value)==null||Y.focus()),h.value===((D=i.value)==null?void 0:D.$el)?o.value=[Math.min(R,p),p]:o.value=[x,Math.max(x,R)]},getActiveThumb:y}),{isFocused:Q,focus:ee,blur:te}=at(u),K=pe(()=>I(o.value[0])),J=pe(()=>I(o.value[1]));return lt(()=>{const $=ce.filterProps(u),R=!!(u.label||v.label||v.prepend);return e(ce,Fe({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!v["tick-label"]||j.value,"v-slider--focused":Q.value,"v-slider--pressed":m.value,"v-slider--disabled":u.disabled},g.value,u.class],style:u.style,ref:T},$,{focused:Q.value}),{...v,prepend:R?x=>{var p,C;return e(ae,null,[((p=v.label)==null?void 0:p.call(v,x))??(u.label?e(st,{class:"v-slider__label",text:u.label},null):void 0),(C=v.prepend)==null?void 0:C.call(v,x)])}:void 0,default:x=>{var A,Y;let{id:p,messagesId:C}=x;return e("div",{class:"v-slider__container",onMousedown:L,onTouchstartPassive:X},[e("input",{id:`${p.value}_start`,name:u.name||p.value,disabled:!!u.disabled,readonly:!!u.readonly,tabindex:"-1",value:o.value[0]},null),e("input",{id:`${p.value}_stop`,name:u.name||p.value,disabled:!!u.disabled,readonly:!!u.readonly,tabindex:"-1",value:o.value[1]},null),e(ct,{ref:ne,start:K.value,stop:J.value},{"tick-label":v["tick-label"]}),e(ye,{ref:i,"aria-describedby":C.value,focused:Q&&h.value===((A=i.value)==null?void 0:A.$el),modelValue:o.value[0],"onUpdate:modelValue":D=>o.value=[D,o.value[1]],onFocus:D=>{var N,W,z,O;ee(),h.value=(N=i.value)==null?void 0:N.$el,o.value[0]===o.value[1]&&o.value[1]===t.value&&D.relatedTarget!==((W=b.value)==null?void 0:W.$el)&&((z=i.value)==null||z.$el.blur(),(O=b.value)==null||O.$el.focus())},onBlur:()=>{te(),h.value=void 0},min:t.value,max:o.value[1],position:K.value,ripple:u.ripple},{"thumb-label":v["thumb-label"]}),e(ye,{ref:b,"aria-describedby":C.value,focused:Q&&h.value===((Y=b.value)==null?void 0:Y.$el),modelValue:o.value[1],"onUpdate:modelValue":D=>o.value=[o.value[0],D],onFocus:D=>{var N,W,z,O;ee(),h.value=(N=b.value)==null?void 0:N.$el,o.value[0]===o.value[1]&&o.value[0]===E.value&&D.relatedTarget!==((W=i.value)==null?void 0:W.$el)&&((z=b.value)==null||z.$el.blur(),(O=i.value)==null||O.$el.focus())},onBlur:()=>{te(),h.value=void 0},min:o.value[0],max:E.value,position:J.value,ripple:u.ripple},{"thumb-label":v["thumb-label"]})])}})}),{}}}),bt=me({__name:"RangeSliderWithInput",props:{modelValue:{default:()=>[0,0]},min:{default:0},max:{default:0}},emits:["update:modelValue"],setup(u,{emit:H}){const v=u;let i=nt(v,"modelValue",H);const b=()=>{let[T,g]=i.value,{min:y,max:w}=v,o=Math.min(T,g),h=Math.max(T,g);o<y?o=y:o>w&&(o=w),h<y?h=y:h>w&&(h=w),i.value=[o,h]};return(T,g)=>(q(),le(ce,null,{prepend:l(()=>[Le(T.$slots,"prepend",{},void 0,!0)]),default:l(()=>[e(ht,{disabled:T.min==T.max,color:"primary",modelValue:c(i),"onUpdate:modelValue":g[2]||(g[2]=y=>qe(i)?i.value=y:i=y),min:T.min,max:T.max,step:1,"hide-details":"",class:"align-center"},{prepend:l(()=>[e(se,{modelValue:c(i)[0],"onUpdate:modelValue":g[0]||(g[0]=y=>c(i)[0]=y),"hide-details":"","single-line":"",type:"number",variant:"outlined",density:"compact",class:"input-text",onChange:b,onKeyup:b},null,8,["modelValue"])]),append:l(()=>[e(se,{modelValue:c(i)[1],"onUpdate:modelValue":g[1]||(g[1]=y=>c(i)[1]=y),"hide-details":"","single-line":"",type:"number",variant:"outlined",class:"input-text",density:"compact",onChange:b,onKeyup:b},null,8,["modelValue"])]),_:1},8,["disabled","modelValue","min","max"])]),_:3}))}});const yt=Te(bt,[["__scopeId","data-v-d7827a39"]]),Z=u=>(Be("data-v-fcb5b176"),u=u(),Ne(),u),gt={class:"mx-auto mt-10",style:{width:"500px"}},xt=Z(()=>s("label",{class:"required"},"负责人",-1)),kt=Z(()=>s("label",{class:"required"},"样本名称",-1)),St=Z(()=>s("label",{class:"required"},"数据序列",-1)),Vt=Z(()=>s("div",{class:"text-gray-400 text-sm mt-2 ml-[44px]"},"数据的随机10%会成为测试集，其余部分会作为训练集",-1)),Tt={class:"required"},wt=Z(()=>s("label",{class:"required"},"任务名称",-1)),$t=me({__name:"PaneTextMarkTask",emits:["submit"],setup(u,{expose:H,emit:v}){const P=re({formData:{name:"",datasetId:"",principal:"",dataSequence:[],annotationType:""},rangeConfig:{min:0,max:0}}),{formData:i,rangeConfig:b}=Ve(P),T=v,g=V(),y=V(),w=V(),o=re({name:[t=>!!t||"请输入任务名称"],datasetId:[t=>!!t||"请选择样本"],principal:[t=>!!t||"请输入负责人"],annotationType:[t=>!!t||"请选择任务类型"],dataSequence:[()=>{let[t,m]=P.formData.dataSequence;return m>t?!0:"数据序列上限值需大于下限值"}]}),h=({rawData:t})=>{let{rangeConfig:m}=P;t?(fe.scaleIn(w.value),m.max=t.segmentCount):(fe.scaleIn(w.value),m.max=0),P.formData.dataSequence=[m.min,m.max]},j=async(t={})=>{const[m,L]=await B.post({...t,url:"/api/mgr/annotation/task/create",data:{...P.formData}});L&&(g.value.hide(),T("submit"))},E=async({valid:t,showLoading:m})=>{t&&j({showLoading:m})};return H({show({title:t,infos:m={name:"",datasetId:"",principal:"",dataSequence:[0,0],annotationType:""},operateType:L}){g.value.show({title:t,refForm:y}),L=="add"&&(P.formData=Ae.cloneDeep(m))}}),(t,m)=>{const L=F("Select"),X=F("Pane");return q(),le(X,{ref_key:"refPane",ref:g,class:"",onSubmit:E},{default:l(()=>[s("div",gt,[e(pt,{ref_key:"refForm",ref:y,class:"my-form"},{default:l(()=>[e(se,{type:"text",placeholder:"请输入负责人","hide-details":"auto",clearable:"",rules:o.principal,modelValue:c(i).principal,"onUpdate:modelValue":m[0]||(m[0]=I=>c(i).principal=I)},{prepend:l(()=>[xt]),_:1},8,["rules","modelValue"]),e(L,{modelValue:c(i).datasetId,"onUpdate:modelValue":m[1]||(m[1]=I=>c(i).datasetId=I),mapAPI:{url:"/api/mgr/datasets/list",data:{page:1,pageSize:20},labelField:"name",valueField:"uuid",search_keywordField:"name"},"onUpdate:infos":h,rules:o.datasetId},{prepend:l(()=>[kt]),_:1},8,["modelValue","rules"]),s("div",{ref_key:"refRange",ref:w},[e(yt,{rules:o.dataSequence,modelValue:c(i).dataSequence,"onUpdate:modelValue":m[2]||(m[2]=I=>c(i).dataSequence=I),min:c(b).min,max:c(b).max},{prepend:l(()=>[St]),_:1},8,["rules","modelValue","min","max"]),Vt],512),e(L,{placeholder:"请选择任务类型",rules:o.annotationType,mapDictionary:{code:"textannotation_type"},modelValue:c(i).annotationType,"onUpdate:modelValue":m[3]||(m[3]=I=>c(i).annotationType=I)},{prepend:l(()=>[s("label",Tt,[d("任务类型 "),e(Ge,null,{default:l(()=>[d("标注完成后，会有两个数据集：同名测试集和训练集")]),_:1})])]),_:1},8,["rules","modelValue"]),e(se,{type:"text",placeholder:"请输入任务名称","hide-details":"auto",clearable:"",rules:o.name,modelValue:c(i).name,"onUpdate:modelValue":m[4]||(m[4]=I=>c(i).name=I)},{prepend:l(()=>[wt]),_:1},8,["rules","modelValue"])]),_:1},512)])]),_:1},512)}}});const Rt=Te($t,[["__scopeId","data-v-fcb5b176"]]),It={style:{width:"300px"}},Ct=["onClick"],Mt={class:"space-y-2"},Pt={class:"link font-bold"},Dt={class:"link font-bold"},Ft={class:"link font-bold"},Lt={key:0,class:"d-flex align-center justify-center"},qt=["onClick"],At={class:"space-y-2"},Bt={class:"link font-bold"},Nt={class:"link font-bold"},Ut=s("br",null,null,-1),Ht=s("span",{class:"text-primary font-weight-black"},"删除",-1),jt=s("br",null,null,-1),Et={class:"text-primary font-weight-black"},Yt=s("br",null,null,-1),Wt=s("br",null,null,-1),zt=s("span",{class:"text-primary font-weight-black"},"取消",-1),Ot=s("br",null,null,-1),Qt={class:"text-primary font-weight-black"},Gt=s("br",null,null,-1),Xt=s("div",{classs:"text-slate-500"},[d(" 此操作将新建基于该数据集的测试集和训练集，"),s("span",{class:"text-slate-700 font-bold"},"原数据集不会改变。"),d("数据集将会按照以下比例随机切分。 ")],-1),Kt={class:"flex justify-between mt-5 mb-2"},Jt={class:"text-primary"},Zt={class:"text-primary"},ea={class:"hv-center"},ta={class:"flex items-center"},aa=s("div",{class:"mr-4"},"导出格式：",-1),la=["innerHTML"],ga=me({__name:"textMarkList",setup(u){const H=Ue("provideAspectPage"),{getLabels:v,loadDictTree:P}=He();P(["textannotation_type"]);const i=je();Ee();const b=V(),T=V(),g=V(),y=V(),w=V(),o=V(),h=V(),j=V(),E=V(),t=re({style:{},formData:{name:"",status:null},tableInfos:{list:[],total:""},selectedRow:{},reportHTML:"",formatTypeSelectedIndex:0,options:{formatType:[{label:"默认",value:"default"},{label:"会话",value:"conversation"}]}}),{style:m,formData:L,options:X}=Ve(t),I=V({title:"文本标注列表"}),ne=V([{text:"任务库",disabled:!1,href:"#"},{text:"文本标注列表",disabled:!0,href:"#"}]),Q=n=>{i.push(`/sample-library/mgr-datasets/list?name=${n}`)},ee=n=>{i.push(`/sample-library/text-mark/detail?annotationId=${n}`)},te=async()=>{const[n,r]=await B.post({showSuccess:!0,url:`/api/mgr/annotation/task/${t.selectedRow.uuid}/split`,data:{testPercent:t.selectedRow.testPercent/100}});r&&(w.value.hide(),p())},K=n=>`
   <div class="section">
        <div class="title">${n}</div>
        <div class="content">
   `,J=()=>`
        </div>
      </div>
   `,$=n=>{let r=null;try{r=JSON.parse(n)}catch(S){console.log(S)}if(!r)return;let{mismatchedIntents:k,similarIntents:U}=r,M=[],f=[];if(U.length){M.push(K("相似意图"));for(let S of U)for(let ie of S.intentPair)M.push(`<div class="item"> ${ie}</div>`);M.push(J())}if(k.length){f.push(K("不匹配的意图"));for(let S of k)f.push('<div class="item"> '),S.answer1&&f.push(`<div>问题1：${S.answer1}</div>`),S.answer2&&f.push(`<div>问题2：${S.answer2}</div>`),S.intent1&&f.push(`<div>意图1：${S.intent1}</div>`),S.intent2&&f.push(`<div>意图2：${S.intent2}</div>`),S.lineNumbers.length&&f.push(`<div>问题点：${S.lineNumbers.join("、")}</div>`),f.push("</div>");f.push(J())}return[...M,...f].join("")},R=async(n={})=>{await B.download({...n,url:`/api/mgr/annotation/task/${t.selectedRow.uuid}/export?formatType=${t.options.formatType[t.formatTypeSelectedIndex].value}`})&&h.value.hide()},x=n=>{let r=[],{status:k}=n;return["pending","processing"].includes(n.status)&&r.push({text:"标注",click(){ee(n.uuid)}}),["completed"].includes(k)&&(r.push({text:"导出",click(){t.selectedRow=n,h.value.show({width:"500px",title:"导出选择"})}}),n.testTotal===0&&r.push({text:"切分",click(){t.selectedRow=n;let{testTotal:U,trainTotal:M}=n;t.selectedRow.testPercent=Math.floor(M*100/(M+U)),w.value.show({width:"400px"})}}),n.annotationType=="faq"&&((n.detectionStatus==="pending"||n.detectionStatus==="canceled")&&r.push({text:"检测",async click(){const[U,M]=await B.post({timeout:Number.MAX_SAFE_INTEGER,showSuccess:!0,showLoading:!0,url:`/api/mgr/annotation/task/${n.uuid}/detect/annotation/async`});M&&A()}}),n.detectionStatus==="processing"&&r.push({text:"取消检测",async click(){const[U,M]=await B.post({timeout:Number.MAX_SAFE_INTEGER,showSuccess:!0,showLoading:!0,url:`/api/mgr/annotation/task/${n.uuid}/detect/cancel`});M&&A()}}),n.detectionStatus==="completed"&&r.push({text:"标注报告",click(){o.value.show({showActions:!1,contentHeight:"calc(100vh - 400px)"}),t.reportHTML=$(n.testReport)}}))),["processing"].includes(k)&&r.push({text:"取消",color:"error",click(){W(n)}}),["completed","cleaned","abandoned","pending"].includes(k)&&r.push({text:"删除",color:"error",click(){Y(n)}}),r},p=async(n={})=>{const[r,k]=await B.get({url:"/api/mgr/annotation/task/list",showLoading:y.value.el,data:{...t.formData,...n}});k?(t.tableInfos.list=k.list||[],t.tableInfos.total=k.total):(t.tableInfos.list=[],t.tableInfos.total=0),E.value.start()};H.methods.refreshListPage=()=>{p()};const C=()=>{y.value.query({page:1})},A=()=>{y.value.query()},Y=n=>{t.selectedRow=n,T.value.show({width:"600px",confirmText:t.selectedRow.uuid})},D=async(n={})=>{const[r,k]=await B.delete({...n,showSuccess:!0,url:`/api/mgr/annotation/task/${t.selectedRow.uuid}/delete`});k&&(T.value.hide(),p())},N=n=>({pending:"undo",processing:"doing",completed:"done",abandoned:"status-gray",cleaned:"status-gray",canceled:"status-gray"})[n],W=n=>{t.selectedRow=n,g.value.show({width:"600px",confirmText:t.selectedRow.uuid})},z=async(n={})=>{const[r,k]=await B.put({...n,showSuccess:!0,url:`/api/mgr/annotation/task/${t.selectedRow.uuid}/clean`});k&&(g.value.hide(),p())},O=()=>{b.value.show({title:"创建文本标注任务",operateType:"add"})},we=async n=>{t.selectedRow=n,j.value.show()},$e=async()=>{let[n,r]=await B.get({url:`/api/mgr/annotation/task/${t.selectedRow.uuid}/detect/annotation/log`});if(r){const k=Object.keys(r).length===0?"":r;j.value.setContent(k)}};return Ye(()=>{p()}),(n,r)=>{const k=F("Select"),U=F("refresh-button"),M=F("ButtonsInForm"),f=F("el-table-column"),oe=F("el-tooltip"),S=F("el-popover"),ie=F("router-link"),Re=F("ButtonsInTable"),Ie=F("TableWithPager"),Ce=F("Dialog"),Me=We("copy");return q(),G(ae,null,[e(Pe,{title:I.value.title,breadcrumbs:ne.value},null,8,["title","breadcrumbs"]),e(Se,null,{default:l(()=>[e(ue,null,{default:l(()=>[e(De,null,{default:l(()=>[e(Se,null,{default:l(()=>[e(ue,{cols:"12",class:"flex justify-between"},{default:l(()=>[s("div",It,[e(k,{onChange:C,label:"请选择标注状态",mapDictionary:{code:"local_mark_status"},modelValue:c(L).status,"onUpdate:modelValue":r[0]||(r[0]=a=>c(L).status=a)},null,8,["modelValue"])]),e(M,null,{default:l(()=>[e(ot,{color:"primary",onClick:r[1]||(r[1]=a=>O())},{default:l(()=>[d("创建文本标注任务")]),_:1}),e(U,{ref_key:"refreshButtonRef",ref:E,onRefresh:A},null,512)]),_:1})]),_:1}),e(ue,{cols:"12"},{default:l(()=>[e(Ie,{onQuery:p,ref_key:"refTableWithPager",ref:y,infos:t.tableInfos},{default:l(()=>[e(f,{label:"任务名称",width:"200px",fixed:"left"},{default:l(({row:a})=>[d(_(a.name),1)]),_:1}),e(f,{label:"数据集名称",width:"200px"},{default:l(({row:a})=>[e(oe,{content:"查看数据集"},{default:l(()=>[s("a",{class:"link",onClick:de=>Q(a.datasetName)},_(a.datasetName),9,Ct)]),_:2},1024)]),_:1}),e(f,{label:"数据序列",width:"100px"},{default:l(({row:a})=>[d(_(a.dataSequence.join(" ~ ")),1)]),_:1}),e(f,{label:"任务类型",width:"120px"},{default:l(({row:a})=>[d(_(c(v)([["textannotation_type",a.annotationType]])),1)]),_:1}),e(f,{width:"120px"},{header:l(()=>[d("完成进度")]),default:l(({row:a})=>[e(S,{placement:"right"},{reference:l(()=>[d(_(a.completed)+" / "+_(a.total-a.completed-a.abandoned)+" / "+_(a.abandoned),1)]),default:l(()=>[s("div",Mt,[s("div",null,[d(" 已完成："),s("span",Pt,_(a.completed),1)]),s("div",null,[d(" 未完成："),s("span",Dt,_(a.total-a.completed-a.abandoned),1)]),s("div",null,[d(" 丢弃："),s("span",Ft,_(a.abandoned),1)])])]),_:2},1024)]),_:1}),e(f,{label:"状态",width:"120px"},{default:l(({row:a})=>[e(be,{label:"",size:"small",class:_e(N(a.status))},{default:l(()=>[d(_(c(v)([["local_mark_status",a.status]])),1)]),_:2},1032,["class"])]),_:1}),e(f,{label:"检测状态",width:"135px"},{default:l(({row:a})=>[a.annotationType=="faq"&&a.status!=="processing"?(q(),G("div",Lt,[s("span",{class:_e(N(a.detectionStatus))},_(c(v)([["local_mark_detect_status",a.detectionStatus]])),3),["processing","completed"].includes(a.detectionStatus)?(q(),G("div",{key:0,class:"link ml-1",onClick:de=>we(a)}," (日志) ",8,qt)):ve("",!0)])):(q(),G(ae,{key:1},[d(" -- ")],64))]),_:1}),e(f,{label:"webshell","min-width":"90px"},{default:l(({row:a})=>[a.detectionStatus==="processing"?(q(),le(oe,{key:0,content:"进入终端",placement:"top"},{default:l(()=>[e(ie,{class:"link",to:{path:"/model/terminal",query:{resourceType:"datasets-eval",serviceName:a.jobName}},target:"_blank"},{default:l(()=>[e(c(ze),{class:"align-top",size:20})]),_:2},1032,["to"])]),_:2},1024)):ve("",!0)]),_:1}),e(f,{label:"完成时间","min-width":"180px"},{default:l(({row:a})=>[d(_(c(he).dateFormat(a.completedAt,"YYYY-MM-DD HH:mm:ss")),1)]),_:1}),e(f,{label:"创建时间","min-width":"180px"},{default:l(({row:a})=>[d(_(c(he).dateFormat(a.createdAt,"YYYY-MM-DD HH:mm:ss")),1)]),_:1}),e(f,{label:"训练集数量","min-width":"120px"},{default:l(({row:a})=>[e(S,{placement:"right"},{reference:l(()=>[d(_(a.testTotal)+" / "+_(a.trainTotal),1)]),default:l(()=>[s("div",At,[s("div",null,[d(" 测试集数量："),s("span",Bt,_(a.testTotal),1)]),s("div",null,[d(" 训练集数量："),s("span",Nt,_(a.trainTotal),1)])])]),_:2},1024)]),_:1}),e(f,{label:"负责人",width:"200px"},{default:l(({row:a})=>[Oe((q(),G("span",null,[d(_(a.principal),1)])),[[Me,a.principal]])]),_:1}),e(f,{label:"操作","min-width":"120px",fixed:"right"},{default:l(({row:a})=>[e(Re,{buttons:x(a)},null,8,["buttons"])]),_:1})]),_:1},8,["infos"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(Rt,{ref_key:"refPaneTextMarkTask",ref:b,onSubmit:C},null,512),e(xe,{ref_key:"refConfirmDelete",ref:T,onSubmit:D},{text:l(()=>[d(" 这是进行一项操作时必须了解的重要信息"),Ut,d(" 此操作将会"),Ht,d("在进行的标注任务"),jt,d(" 数据集ID："),s("span",Et,_(t.selectedRow.uuid),1),Yt,d("你还要继续吗？ ")]),_:1},512),e(xe,{ref_key:"refConfirmCancel",ref:g,onSubmit:z},{text:l(()=>[d(" 这是进行一项操作时必须了解的重要信息"),Wt,d(" 此操作将会"),zt,d("尚未开始的标注任务"),Ot,d(" 数据集ID："),s("span",Qt,_(t.selectedRow.uuid),1),Gt,d("你还要继续吗？ ")]),_:1},512),e(ke,{ref_key:"refConfirmSplit",ref:w,onSubmit:te},{text:l(()=>[Xt,s("div",null,[s("div",Kt,[s("div",null,[d(" 训练集 "),s("span",Jt,_(t.selectedRow.testPercent)+"%",1)]),s("div",null,[d(" 测试集 "),s("span",Zt,_(100-t.selectedRow.testPercent)+"%",1)])]),e(mt,{color:"primary",step:"1",modelValue:t.selectedRow.testPercent,"onUpdate:modelValue":r[2]||(r[2]=a=>t.selectedRow.testPercent=a)},null,8,["modelValue"])])]),_:1},512),e(ke,{ref_key:"refConfirmDownload",ref:h,onSubmit:R},{text:l(()=>[e(ft,{class:"mb-6"},{default:l(()=>[d(" 该操作将直接生成训练数据集，导出的数据将会以jsonl的格式导出。 ")]),_:1}),s("div",ea,[s("div",ta,[aa,e(it,{mandatory:"","selected-class":"text-primary",modelValue:t.formatTypeSelectedIndex,"onUpdate:modelValue":r[3]||(r[3]=a=>t.formatTypeSelectedIndex=a)},{default:l(()=>[(q(!0),G(ae,null,Qe(c(X).formatType,(a,de)=>(q(),le(be,{key:de,filter:"",variant:"outlined"},{default:l(()=>[d(_(a.label),1)]),_:2},1024))),128))]),_:1},8,["modelValue"])])])]),_:1},512),e(_t,{ref_key:"refDialogLog",ref:j,interval:20,onRefresh:$e},null,512),e(Ce,{ref_key:"refReport",ref:o,style:{width:"80%","max-width":"800px"}},{title:l(()=>[d("标注数据检测报告")]),default:l(()=>[s("div",{class:"box-report",innerHTML:t.reportHTML},null,8,la)]),_:1},512)],64)}}});export{ga as default};
