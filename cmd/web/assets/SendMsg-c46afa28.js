import{d as I,at as T,c as u,bg as S,k as r,Z as p,W as o,l as v,m as _,n as d,$ as x,a1 as c,Y as b,j as n,bO as C,f as M,bP as B}from"./utils-5e900427.js";import{T as Y}from"./Text-c4d7669a.js";import{d as z}from"./favicon-7b746610.js";import{I as D,_ as V,bg as q,V as y}from"./index-81f01cfc.js";import{V as E}from"./VTextarea-0c99cd02.js";const N=["src"],A={key:1,class:"message-avatar__text"},U={class:"overflow-hidden"},$=I({__name:"index",props:{chatItem:{default:()=>({})}},setup(i){const e=i,m=T(),a=u(()=>{const s=m.userInfo.username;return s?s[0].toUpperCase():"Y"}),t=u(()=>S.dateFormat(e.chatItem.createdAt,"YYYY-MM-DD HH:mm:ss"));return(s,f)=>(r(),p("div",{class:c([{"flex-row-reverse":e.chatItem.msgType==="question"},"pa-5 d-flex w-100 overflow-hidden"])},[o("div",{class:c(["d-flex align-center justify-center flex-shrink-0 align-self-start",e.chatItem.msgType==="question"?"ml-2":"mr-2"])},[e.chatItem.msgType==="answer"?(r(),v(D,{key:0},{default:_(()=>[o("img",{class:"rounded-circle",src:d(z),alt:"avatar",width:"40"},null,8,N)]),_:1})):(r(),p("div",A,x(a.value),1))],2),o("div",U,[o("p",{class:c(["message-content__time",{"text-right":e.chatItem.msgType==="question"}])},x(t.value),3),o("div",{class:c(["d-flex mt-2",{"flex-row-reverse":e.chatItem.msgType==="question"}])},[e.chatItem.contentType==="text"?(r(),v(Y,{key:0,text:e.chatItem.content,"msg-type":e.chatItem.msgType,loading:e.chatItem.loading},null,8,["text","msg-type","loading"])):b("",!0)],2)])],2))}});const W=V($,[["__scopeId","data-v-36997323"]]),j={class:"d-flex align-center pa-2"},H=I({__name:"SendMsg",props:{modelValue:{default:""}},emits:["update:modelValue","submit","clear"],setup(i,{emit:e}){const m=i,a=e,t=q(m,"modelValue",a),s=u(()=>!t.value||t.value.trim()===""),f=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),h())},h=()=>{s.value||a("submit")},w=()=>{a("clear")};return(l,g)=>(r(),p("div",j,[n(y,{size:"x-small",icon:"",flat:"",onClick:w},{default:_(()=>[n(d(C),{"stroke-width":"1.5",size:20,class:"text-error"})]),_:1}),n(E,{variant:"solo","hide-details":"",modelValue:d(t),"onUpdate:modelValue":g[0]||(g[0]=k=>M(t)?t.value=k:null),color:"primary",class:"shadow-none",density:"compact",placeholder:"在此处键入用户查询（按 Shift + Enter 生成新行）","no-resize":"",onKeypress:f,"auto-grow":"",rows:1,"max-rows":4},null,8,["modelValue"]),n(y,{icon:"",variant:"text",onClick:h,class:"text-medium-emphasis",disabled:s.value},{default:_(()=>[n(d(B),{size:20})]),_:1},8,["disabled"])]))}});const Z=V(H,[["__scopeId","data-v-5fece54d"]]);export{W as M,Z as S};
