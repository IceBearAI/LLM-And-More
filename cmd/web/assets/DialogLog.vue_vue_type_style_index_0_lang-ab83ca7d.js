import{T as h}from"./TextLog-9f48bacb.js";import{d as D,r as i,x,a9 as k,U as y,k as r,l as L,m as c,X as V,Z as w,$ as C,j as B}from"./utils-5e900427.js";import{b9 as T}from"./index-81f01cfc.js";const U={key:1},F=D({__name:"DialogLog",props:{interval:{default:0}},emits:["refresh"],setup(f,{expose:p,emit:u}){const a=f,m=u,n=i(),o=i(null),t=x({content:"",title:"",isDone:!1}),g=()=>{o.value?o.value.isPending||o.value.start():o.value=T(()=>{l()},a.interval*1e3)},l=()=>{t.isDone=!1,m("refresh")},d=e=>{e||o.value&&o.value.stop()};return p({show({content:e="",title:s="日志"}={}){l(),n.value.show({showActions:!1,contentHeight:"calc(100vh - 400px)"}),k.assign(t,{content:e,title:s}),e&&this.setContent(e)},setContent(e){t.content=e,t.isDone=!0,a.interval!==0&&g()}}),(e,s)=>{const _=y("Dialog");return r(),L(_,{"onUpdate:modelValue":d,ref_key:"refDialogLog",ref:n,"max-width":"1200px","min-height":"400px",class:"compo-dialogLog"},{title:c(()=>[e.$slots.title?V(e.$slots,"title",{key:0}):(r(),w("span",U,C(t.title),1))]),default:c(()=>[B(h,{modelValue:t.content,"onUpdate:modelValue":s[0]||(s[0]=v=>t.content=v),isDone:t.isDone,resizeAble:!1},null,8,["modelValue","isDone"])]),_:3},512)}}});export{F as _};
