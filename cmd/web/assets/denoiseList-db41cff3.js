import{d as A,i as L,r as i,ad as M,b8 as U,aE as Y,x,o as K,U as m,k as Q,Z as j,j as e,m as a,bf as q,_ as b,W as h,$ as u,n as y,bg as E,F as H,b9 as V}from"./utils-380ae8e1.js";import{_ as O}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-d3ad82eb.js";import{_ as Z}from"./UiParentCard.vue_vue_type_script_setup_true_lang-aa11bf62.js";import{_ as B}from"./AiAudio.vue_vue_type_style_index_0_lang-3eaea588.js";import{_ as z}from"./ConfirmByClick.vue_vue_type_style_index_0_lang-ccdf5c87.js";import{V as G}from"./VRow-fc36e79d.js";import{V as g}from"./VCol-ac87f973.js";import{a4 as J,V as X}from"./index-e3ddd1e6.js";import"./Confirm-3cd730c8.js";const ce=A({__name:"denoiseList",setup(ee){const C=L("provideAspectPage"),D=i({title:"降噪列表"}),k=i([{text:"语音服务",disabled:!1,href:"#"},{text:"降噪列表",disabled:!0,href:"#"}]),{loadDictTree:P,getLabels:R}=M();U();const T=Y(),f=i(),p=i(),c=i(),o=x({list:[],total:0}),d=x({name:""}),_=()=>{c.value.query({page:1})},F=()=>{d.name=""};C.methods.refreshListPage=()=>{F(),_()};const v=async(s={})=>{const[l,n]=await V.get({url:"/voice/denoise",showLoading:c.value.el,data:{...d,...s}});n?(o.list=n.list||[],o.total=n.total):(o.list=[],o.total=0)},w=()=>{T.push("/voice-print/denoise-list/denoise")},N=s=>{f.value=s,p.value.show({width:"400px"})},S=async()=>{const[s,l]=await V.delete({showSuccess:!0,url:`/voice/denoise/${f.value.id}`});l&&(p.value.hide(),c.value.query())},$=s=>{let l=[];return l.push({text:"删除",color:"error",click(){N(s)}}),l};return K(async()=>{await P(["denoise_sample_rate"]),v()}),(s,l)=>{const n=m("ButtonsInForm"),r=m("el-table-column"),I=m("ButtonsInTable"),W=m("TableWithPager");return Q(),j(H,null,[e(O,{title:D.value.title,breadcrumbs:k.value},null,8,["title","breadcrumbs"]),e(Z,null,{default:a(()=>[e(G,null,{default:a(()=>[e(g,{cols:"12",lg:"3",md:"4",sm:"6"},{default:a(()=>[e(J,{density:"compact",modelValue:d.name,"onUpdate:modelValue":l[0]||(l[0]=t=>d.name=t),label:"音频名称","hide-details":"",variant:"outlined",clearable:!0,onKeyup:q(_,["enter"]),"onClick:clear":_},null,8,["modelValue","onKeyup"])]),_:1}),e(g,{cols:"12",lg:"3",md:"4",sm:"6"},{default:a(()=>[e(n,null,{default:a(()=>[e(X,{color:"primary",onClick:w},{default:a(()=>[b("创建降噪")]),_:1})]),_:1})]),_:1}),e(g,{cols:"12"},{default:a(()=>[e(W,{onQuery:v,ref_key:"tableWithPagerRef",ref:c,infos:o},{default:a(()=>[e(r,{label:"降噪前","min-width":"320px"},{default:a(({row:t})=>[e(B,{src:t==null?void 0:t.inputS3Url},null,8,["src"]),h("div",null,u(t.inputName),1)]),_:1}),e(r,{label:"降噪后","min-width":"320px"},{default:a(({row:t})=>[e(B,{src:t==null?void 0:t.outS3Url},null,8,["src"]),h("div",null,u(t.outName),1)]),_:1}),e(r,{label:"采样率","min-width":"150px"},{default:a(({row:t})=>[h("span",null,u(y(R)([["denoise_sample_rate",t.sampleRate]])),1)]),_:1}),e(r,{label:"更新时间","min-width":"160px"},{default:a(({row:t})=>[b(u(y(E).dateFormat(t.updatedAt,"YYYY-MM-DD HH:mm:ss")),1)]),_:1}),e(r,{label:"操作","min-width":"80px",fixed:"right"},{default:a(({row:t})=>[e(I,{buttons:$(t),onlyOne:""},null,8,["buttons"])]),_:1})]),_:1},8,["infos"])]),_:1})]),_:1})]),_:1}),e(z,{ref_key:"refConfirmDelete",ref:p,onSubmit:S},{text:a(()=>[b(" 您确定要删除【"+u(f.value.inputName)+"】的降噪结果吗？ ",1)]),_:1},512)],64)}}});export{ce as default};
