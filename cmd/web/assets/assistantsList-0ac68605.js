import{d as W,aD as N,r as d,x as v,o as S,U as f,k as Y,Z as j,j as t,m as e,be as K,_ as n,W as r,$ as m,n as M,bf as Q,F as E,b8 as y}from"./utils-8a4540e3.js";import{_ as H}from"./BaseBreadcrumb.vue_vue_type_style_index_0_lang-4dd6729c.js";import{_ as L}from"./UiParentCard.vue_vue_type_script_setup_true_lang-a50df5aa.js";import{A as U}from"./AlertBlock-feae4534.js";import{_ as q}from"./ConfirmByInput.vue_vue_type_style_index_0_lang-70c6b095.js";import{C as Z}from"./CreateAssistantPane-2f9b2ae0.js";import{V as z}from"./VRow-a7542fa4.js";import{V as p}from"./VCol-b8625bbb.js";import{a4 as G,V as J}from"./index-b4ac7dfa.js";import"./VAlert-d47641dd.js";import"./Confirm-6894798d.js";import"./ModelSelect.vue_vue_type_script_setup_true_lang-f03aeb00.js";import"./CustomUpload-9214a48d.js";import"./VTextarea-2463a3df.js";import"./VForm-b3ea2b89.js";const O=["onClick"],X=["onClick"],tt=r("span",{class:"text-primary font-weight-black"},"删除",-1),et=r("br",null,null,-1),st={class:"text-primary font-weight-black"},at=r("br",null,null,-1),kt=W({__name:"assistantsList",setup(ot){const I=N(),C=d({title:"助手列表"}),V=d([{text:"AI助手",disabled:!1,href:"#"},{text:"助手列表",disabled:!0,href:"#"}]),_=v({name:""}),c=v({list:[],total:0}),h=d(),b=d(),w=d(),u=v({assistantId:""}),D=a=>{let o=[];return o.push({text:"编辑",color:"info",click(){P(a)}}),o.push({text:"删除",color:"error",click(){B(a)}}),o},B=a=>{u.assistantId=a.assistantId,w.value.show({width:"550px",confirmText:u.assistantId})},T=async(a={})=>{const[o,i]=await y.delete({...a,showSuccess:!0,url:`/assistants/${u.assistantId}`});i&&(w.value.hide(),x())},x=async(a={})=>{const[o,i]=await y.get({url:"/assistants/list",showLoading:b.value.el,data:{..._,...a}});i?(c.list=i.list||[],c.total=i.total):(c.list=[],c.total=0)},k=()=>{b.value.query({page:1})},A=()=>{h.value.show({title:"创建助手",operateType:"add"})},P=a=>{h.value.show({title:"编辑助手",infos:a,operateType:"edit"})},g=a=>{I.push(`/ai-assistant/assistants/detail?assistantId=${a}`)};return S(()=>{x()}),(a,o)=>{const i=f("ButtonsInForm"),l=f("el-table-column"),$=f("ButtonsInTable"),F=f("TableWithPager");return Y(),j(E,null,[t(H,{title:C.value.title,breadcrumbs:V.value},null,8,["title","breadcrumbs"]),t(L,null,{default:e(()=>[t(z,null,{default:e(()=>[t(p,{cols:"12",lg:"3",md:"4",sm:"6"},{default:e(()=>[t(G,{modelValue:_.name,"onUpdate:modelValue":o[0]||(o[0]=s=>_.name=s),label:"请输入助手名称","hide-details":"",clearable:"",onKeyup:K(k,["enter"]),"onClick:clear":k},null,8,["modelValue","onKeyup"])]),_:1}),t(p,{cols:"12",lg:"3",md:"4",sm:"6"},{default:e(()=>[t(i,null,{default:e(()=>[t(J,{color:"primary",onClick:A},{default:e(()=>[n("创建助手")]),_:1})]),_:1})]),_:1}),t(p,{cols:"12"},{default:e(()=>[t(U,null,{default:e(()=>[n("修改之后将实时生效，请谨慎操作！")]),_:1})]),_:1}),t(p,{cols:"12"},{default:e(()=>[t(F,{onQuery:x,ref_key:"tableWithPagerRef",ref:b,infos:c},{default:e(()=>[t(l,{label:"助手ID","min-width":"240px"},{default:e(({row:s})=>[r("a",{href:"javascript: void(0)",class:"link",onClick:R=>g(s.assistantId)},m(s.assistantId),9,O)]),_:1}),t(l,{label:"助手名称","min-width":"150px","show-overflow-tooltip":"","class-name":"link-ellipsis-color"},{default:e(({row:s})=>[r("a",{href:"javascript: void(0)",class:"link",onClick:R=>g(s.assistantId)},m(s.name),9,X)]),_:1}),t(l,{label:"工具数量","min-width":"100px"},{default:e(({row:s})=>[n(m(s.tools?s.tools.length:0),1)]),_:1}),t(l,{label:"模型",prop:"modelName","min-width":"200px","show-overflow-tooltip":""}),t(l,{label:"备注",prop:"remark","min-width":"200px"}),t(l,{label:"更新时间","min-width":"165px"},{default:e(({row:s})=>[n(m(M(Q).dateFormat(s.updatedAt,"YYYY-MM-DD HH:mm:ss")),1)]),_:1}),t(l,{label:"操作人",prop:"operator","min-width":"150px","show-overflow-tooltip":""}),t(l,{label:"操作",width:"120px",fixed:"right"},{default:e(({row:s})=>[t($,{buttons:D(s)},null,8,["buttons"])]),_:1})]),_:1},8,["infos"])]),_:1})]),_:1})]),_:1}),t(q,{ref_key:"refConfirmDelete",ref:w,onSubmit:T},{text:e(()=>[n(" 此操作将会"),tt,n("该个人助手，删除之后将无法使用"),et,n(" 助手ID："),r("span",st,m(u.assistantId),1),at,n(" 确定要继续吗？ ")]),_:1},512),t(Z,{ref_key:"createAssistantPaneRef",ref:h,onSubmit:k},null,512)],64)}}});export{kt as default};
